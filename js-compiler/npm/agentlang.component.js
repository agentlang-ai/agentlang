var window=global;var $CLJS=require("./cljs_env.js");require("./cljs.core.js");require("./clojure.string.js");require("./agentlang.util.js");require("./agentlang.lang.internal.js");require("./agentlang.lang.datetime.js");require("./agentlang.lang.raw.js");require("./agentlang.meta.js");require("./agentlang.util.errors.js");require("./agentlang.util.jslogger.js");require("./agentlang.util.seq.js");
'use strict';var TL=function(){function a(){var d=Math.floor(65536*Math.random()).toString(16);switch(d.length){case 1:return["000",d].join("");case 2:return["00",d].join("");case 3:return["0",d].join("");default:return d}}var b=(16384|4095&Math.floor(65536*Math.random())).toString(16),c=(32768|16383&Math.floor(65536*Math.random())).toString(16);return new $CLJS.Tq([a(),a(),"-",a(),"-",b,"-",c,"-",a(),a(),a()].join("").toLowerCase(),null)},UL=function(){return $CLJS.t.g(TL())},WL=function(a){$CLJS.te(VL,
a.o?a.o():a.call(null))},XL=function(a){return $CLJS.gr.h(function(b){return $CLJS.Fg.g(b.substring($CLJS.E.h(":",$CLJS.B(b))?1:0))},$CLJS.Dj(a,/\//))},YL=function(a){return $CLJS.vk(a)&&!$CLJS.ed(a)?a:XL($CLJS.t.g(a))},ZL=function(a,b){return $CLJS.z($CLJS.vj($CLJS.zd,$CLJS.gr.h(function(c){var d=$CLJS.H(c,0,null);c=$CLJS.H(c,1,null);return $CLJS.q($CLJS.dj($CLJS.yj([d]),$CLJS.SL))?new $CLJS.S(null,3,5,$CLJS.T,[d,a,c],null):null},b)))},$L=function(a){var b=$CLJS.PL.g($CLJS.u($CLJS.RL));return a.g?
a.g(b):a.call(null,b)},aM=function(a,b){return $CLJS.z($CLJS.vj($CLJS.zd,$CLJS.gr.h(function(c){var d=$CLJS.H(c,0,null);$CLJS.H(c,1,null);$CLJS.H(c,2,null);d=$L(d);return $CLJS.q(d)?$CLJS.de($CLJS.ui,$CLJS.gr.h(function(e){return $CLJS.de(e,c)},d)):null},ZL(a,b))))},dM=function(a){return $CLJS.B($CLJS.B($CLJS.vj(function(b){$CLJS.H(b,0,null);b=$CLJS.H(b,1,null);return $CLJS.dj($CLJS.yj([a]),bM.g(b))},$CLJS.u(cM))))},fM=function(a){a=eM(dM(a));return $CLJS.q(a)?a:"0.0.1"},gM=function(a){WL(function(){return $CLJS.yy($CLJS.u(VL),
new $CLJS.S(null,2,5,$CLJS.T,[a,$CLJS.t.g(fM(a))],null),null)})},oM=function(a){gM(a);var b=new $CLJS.S(null,2,5,$CLJS.T,[a,$CLJS.DI],null),c=$CLJS.uf([$CLJS.mi,hM,$CLJS.jI,!0,iM,!0,$CLJS.CI,!0,$CLJS.bh,UL]);jM.h?jM.h(b,c):jM.call(null,b,c);b=new $CLJS.S(null,2,5,$CLJS.T,[a,$CLJS.Fg.g([$CLJS.ng(a),"_Init"].join(""))],null);c=new $CLJS.n(null,1,[kM,$CLJS.iI],null);lM.h?lM.h(b,c):lM.call(null,b,c);$CLJS.te(mM,a);$CLJS.te(nM,$CLJS.Zf.h($CLJS.u(nM),a))},pM=function(a){return $CLJS.q($CLJS.xv($CLJS.u(VL),
a))?!0:!1},qM=function(a,b,c,d){var e=YL(a),f=$CLJS.H(e,0,null),g=$CLJS.H(e,1,null),h=new $CLJS.S(null,4,5,$CLJS.T,[f,fM(f),c,g],null);pM(f)||((0,$CLJS.nq)(["auto-creating component - ",$CLJS.t.g(f)].join("")),oM(f));(c=aM(e,d))&&(0,$CLJS.mq)(["custom parse policies for ",$CLJS.t.g(a)," - ",$CLJS.t.g(c)].join(""));WL(function(){if($CLJS.q(d)){var l=$CLJS.u(VL);var m=$CLJS.B(YL(e)),p=$CLJS.hj(YL(e));l=$CLJS.yy(l,new $CLJS.S(null,4,5,$CLJS.T,[m,fM(m),p,$CLJS.QL],null),d)}else l=$CLJS.u(VL);return $CLJS.yy(l,
h,b)});return a},jM=function(a,b){return qM(a,b,rM,null)},sM=new $CLJS.N(null,"event","event",301435442),tM=new $CLJS.N(null,"Agentlang.Kernel.UserApp","Agentlang.Kernel.UserApp",-1908843585),hM=new $CLJS.N("Agentlang.Kernel.Lang","UUID","Agentlang.Kernel.Lang/UUID",-31904642),uM=new $CLJS.N(null,"records","records",1326822832),vM=new $CLJS.N(null,"schema","schema",-1582001791),wM=new $CLJS.N(null,"Lookup_Internal","Lookup_Internal",1677201168),kM=new $CLJS.N(null,"ComponentName","ComponentName",
-110841760),rM=new $CLJS.N(null,"attributes","attributes",-74013604),iM=new $CLJS.N(null,"immutable","immutable",-474144970),bM=new $CLJS.N(null,"components","components",-1073188942);$CLJS.yj([$CLJS.DI,$CLJS.oq,new $CLJS.N(null,"-*-dirty-*-","-*-dirty-*-",2067856590),$CLJS.qq]);
var cM=$CLJS.se($CLJS.Q),eM=$CLJS.qe(function(a,b){b=$CLJS.J($CLJS.u(cM),b);return a.g?a.g(b):a.call(null,b)},$CLJS.tI),VL=$CLJS.se($CLJS.Q),mM=$CLJS.se(null),nM=$CLJS.se($CLJS.Re),xM=function xM(a){switch(arguments.length){case 3:return xM.i(arguments[0],arguments[1],arguments[2]);case 2:return xM.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$CLJS.t.g(arguments.length)].join(""));}};
xM.i=function(a,b,c){var d=$CLJS.Ia.g(c);c=$CLJS.Ij.h(c,$CLJS.Ia);c=$CLJS.q(vM.g(c))?c:new $CLJS.n(null,1,[vM,c],null);a=$CLJS.q($CLJS.oq.g(c))?c:$CLJS.V.i(c,$CLJS.oq,a);return qM(b,a,uM,d)};xM.h=function(a,b){return xM.i($CLJS.nk,a,b)};xM.F=3;var lM=$CLJS.qe(xM,sM);$CLJS.yj([$CLJS.GI,$CLJS.MI,$CLJS.cI,$CLJS.DI,$CLJS.kI]);$CLJS.ng(wM);oM(tM);